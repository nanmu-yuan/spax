<template>
	<div class="Preheader" style="width:650px">
		<table border="0" cellspacing="0" cellpadding="0" width="100%">
			<tbody>
				<tr>
					<td style="" bgcolor="" background="">
						<table border="0" cellspacing="0" cellpadding="0" width="100%">
							<tbody>
								<tr>
									<td :style="[{paddingLeft:leftPad+'px'},{paddingRight:rightPad+'px'}]">
										<table border="0" cellspacing="0" cellpadding="0" width="100%">
											<tbody>
												<tr>
													<td style="border-top:1px solid #666666;border-bottom:1px solid #666666;">
														<table border="0" cellspacing="0" cellpadding="0" width="100%">
															<tbody>
																<tr>
																	<td style="">
																		<table border="0" cellspacing="0" cellpadding="0" width="100%">
																			<tbody>
																				<tr>
																					<td :style="[{paddingBottom:bottomPad+'px'},{paddingTop:topPad+'px'}]">
																						<div class="cbvariant cbvariant-1_column_social">
																							<table border="0" cellpadding="0" cellspacing="0" width="100%">
																								<tbody>
																									<tr>
																										<td style="color:#333333;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;line-height:114%;text-align:center;text-decoration:none;">
																											<table border="0" cellpadding="0" cellspacing="0" width="100%">
																												<tbody>
																													<tr>
																														<td class="webfont-fallback-1 appleFooterLinks" style="color:#333333;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;line-height:114%;text-align:center;text-decoration:none;">
																															<div v-html="content"></div>
																														</td>
																													</tr>
																												</tbody>
																											</table>
																										</td>
																									</tr>
																									<tr>
																										<td style="padding-top: 20px;">
																											<div>
																												<div class="mobile-footer-social-table" style="display: table; margin: 0 auto;">
																													<div class="mobile-footer-social-row" style="display: table-row;">
																														<!--[if (mso)|(IE)]><table border="0" cellspacing="0" cellpadding="0" align="center" style="margin: 0 auto;"><tr><![endif]-->
																														<!--[if (mso)|(IE)]><td style="vertical-align: top; "><![endif]-->
																														<div style="display: table-cell; vertical-align: top;">
																															<table border="0" cellspacing="0" cellpadding="0">
																																<tbody>
																																	<tr>
																																		<td style="padding: 6px 20px;" class="mobile-footer-social-cell"><a target="_blank" href=""><img alt="" border="0" src="https://static.soundestlink.com/images/social_facebook_s.png" width="25" height="25" style="vertical-align: top;"></a></td>
																																	</tr>
																																</tbody>
																															</table>
																														</div>
																														<!--[if (mso)|(IE)]></td><![endif]-->
																														<!--[if (mso)|(IE)]><td style="vertical-align: top; "><![endif]-->
																														<div style="display: table-cell; vertical-align: top;">
																															<table border="0" cellspacing="0" cellpadding="0">
																																<tbody>
																																	<tr>
																																		<td style="padding: 6px 20px;" class="mobile-footer-social-cell"><a target="_blank" href=""><img alt="" border="0" src="https://static.soundestlink.com/images/social_twitter_s.png" width="25" height="25" style="vertical-align: top;"></a></td>
																																	</tr>
																																</tbody>
																															</table>
																														</div>
																														<!--[if (mso)|(IE)]></td><![endif]-->
																														<!--[if (mso)|(IE)]><td style="vertical-align: top; "><![endif]-->
																														<div style="display: table-cell; vertical-align: top;">
																															<table border="0" cellspacing="0" cellpadding="0">
																																<tbody>
																																	<tr>
																																		<td style="padding: 6px 20px;" class="mobile-footer-social-cell"><a target="_blank" href=""><img alt="" border="0" src="https://static.soundestlink.com/images/social_pinterest_s.png" width="25" height="25" style="vertical-align: top;"></a></td>
																																	</tr>
																																</tbody>
																															</table>
																														</div>
																														<!--[if (mso)|(IE)]></td><![endif]-->
																														<!--[if (mso)|(IE)]><td style="vertical-align: top; "><![endif]-->
																														<div style="display: table-cell; vertical-align: top;">
																															<table border="0" cellspacing="0" cellpadding="0">
																																<tbody>
																																	<tr>
																																		<td style="padding: 6px 20px;" class="mobile-footer-social-cell"><a target="_blank" href=""><img alt="" border="0" src="https://static.soundestlink.com/images/social_instagram_s.png" width="25" height="25" style="vertical-align: top;"></a></td>
																																	</tr>
																																</tbody>
																															</table>
																														</div>
																														<!--[if (mso)|(IE)]></td><![endif]-->
																														<!--[if (mso)|(IE)]></tr></table><![endif]-->
																													</div>
																												</div>
																											</div>
																										</td>
																									</tr>
																									<tr>
																										<td style="color:#999999;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;line-height:114%;padding-top:20px;text-align:center;text-decoration:none;">
																											<table border="0" cellpadding="0" cellspacing="0" width="100%" style="color:#999999;font-size:14px;line-height:114%;font-family:Arial, sans-serif;font-weight:normal;text-decoration:none;text-align:center;">
																												<tbody>
																													<tr>
																														<td class="mobile-footer-text appleFooterLinks webfont-fallback-1" style="color:#999999;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;line-height:114%;text-align:center;text-decoration:none;">This email was sent to [[contact.email]] because you've subscribed on our site or made a purchase. </td>
																													</tr>
																													<tr>
																														<td style="color:#999999;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;line-height:114%;text-align:center;text-decoration:none;"><a class="webfont-fallback-1" target="_blank" href="" style="color:#999999;font-family:Arial, sans-serif;font-size:14px;font-weight:normal;line-height:114%;text-decoration:underline;"><span>Unsubscribe</span></a></td>
																													</tr>
																												</tbody>
																											</table>
																										</td>
																									</tr>
																								</tbody>
																							</table>
																						</div>
																					</td>
																				</tr>
																			</tbody>
																		</table>
																	</td>
																</tr>
															</tbody>
														</table>
													</td>
												</tr>
											</tbody>
										</table>
									</td>
								</tr>
							</tbody>
						</table>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</template>
<script>
import { mapState } from 'vuex';
export default {
	name: 'FooterInfo',
	configName: 'c_footer',
	cname: 'FooterInfo',
	icon: 'el-icon-s-open',
	type: '1',
	props: {
		index: {
			type: null,
		},
		num: {
			type: null,
		},
		styleType: {
			type: String,
		},
	},
	computed: {
		...mapState('admin/mobildConfig', ['defaultArray']),
	},
	data() {
		return {
			// 默认初始化数据禁止修改
			defaultConfig: {
				name: 'c_footer',
				timestamp: this.num,
				editConfigText: {
					title: '文本编辑',
					value: '',
				},
				positionConfig: [
					{
						title: 'LEFT PADDING',
						value: 20,
					},
					{
						title: 'RIGHT PADDING',
						value: 20,
					},
					{
						title: 'TOP PADDING',
						value: 35,
					},
					{
						title: 'BOTTOM PADDING',
						value: 35,
					},
				],
			},
			content: '',
			leftPad:'',
			rightPad:'',
			topPad:'',
			bottomPad:''
		};
	},
	watch: {
		pageData: {
			handler(nVal, oVal) {
				this.setConfig(nVal);
			},
			deep: true,
		},
		num: {
			handler(nVal, oVal) {
				let data = this.$store.state.admin.mobildConfig.defaultArray[
					nVal
				];
				this.setConfig(data);
			},
			/**
			 * 
			 * j
			 * 
			 */
			deep: true,
		},
		defaultArray: {
			handler(nVal, oVal) {
				let data = this.$store.state.admin.mobildConfig.defaultArray[
					this.num
				];
				this.setConfig(data);
			},
			deep: true,
		},
	},
	methods: {
		setConfig(data) {
			if (!data) return;
			this.content = data.editConfigText.value;
			this.leftPad = data.positionConfig[0].value;
			this.rightPad = data.positionConfig[1].value;
			this.topPad = data.positionConfig[2].value;
			this.bottomPad = data.positionConfig[3].value;
		},
	},
	mounted() {
		this.$nextTick(() => {
			this.pageData = this.$store.state.admin.mobildConfig.defaultArray[
				this.num
			];
			this.setConfig(this.pageData);
		});
	},
};
</script>
<style lang="less" scoped>
.title-box {
	color: #282828;
}
</style>